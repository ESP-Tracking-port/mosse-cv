option(MOSSE_PORTABLE "Only include libraries that can be ported on an embedded platform" OFF)

add_subdirectory(fft)
add_subdirectory(mosseapi)
add_subdirectory(ohdebug)
add_subdirectory(doctest)
add_library(mosselibs INTERFACE)
add_library(eigen INTERFACE)
target_include_directories(eigen INTERFACE eigen)
target_link_libraries(mosselibs INTERFACE fft mosseapi ohdebug doctest eigen)

if(NOT PORTABLE)
	add_subdirectory(malloccounter)
	target_link_libraries(mosselibs INTERFACE malloccounter)
endif()
